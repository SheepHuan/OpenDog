(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-06501ffc"],{"82c1":function(e,t,r){"use strict";r("ac65")},ac65:function(e,t,r){},d5c2:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-container",{staticStyle:{width:"100%",height:"100%","justify-content":"center","align-items":"center"}},[r("el-container",{staticClass:"register-container"},[r("el-header",{staticStyle:{"text-align":"right","font-size":"12px"}},[r("span",{staticStyle:{"align-self":"flex-end"}},[r("em",{staticClass:"bold"},[e._v("已有账号？")]),r("router-link",{attrs:{to:"/login"}},[r("el-button",{attrs:{type:"primary",size:"mini"}},[e._v("登录")])],1)],1)]),r("el-main",[r("el-form",{ref:"form",staticClass:"demo-ruleForm",attrs:{model:e.form,"status-icon":"",rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"账号",prop:"username"}},[r("el-input",{model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),r("el-tooltip",{attrs:{content:"Caps lock is On",placement:"right",manual:""},model:{value:e.capsTooltip,callback:function(t){e.capsTooltip=t},expression:"capsTooltip"}},[r("el-form-item",{attrs:{label:"密码",prop:"password"}},[r("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[r("el-input",{key:e.passwordType,ref:"password",attrs:{type:e.passwordType,placeholder:"Password",name:"password",tabindex:"2",autocomplete:"on"},on:{blur:function(t){e.capsTooltip=!1}},nativeOn:{keyup:[function(t){return e.checkCapslock(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleRegister(t)}]},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}}),r("span",{staticStyle:{"margin-left":"10px"},on:{click:function(t){return e.showPwd("password")}}},[r("svg-icon",{attrs:{"icon-class":"password"===e.passwordType?"eye":"eye-open"}})],1)],1)])],1),r("el-tooltip",{attrs:{content:"Caps lock is On",placement:"right",manual:""},model:{value:e.capsTooltip,callback:function(t){e.capsTooltip=t},expression:"capsTooltip"}},[r("el-form-item",{attrs:{label:"确认密码",prop:"checkPass"}},[r("el-input",{key:e.passwordType,ref:"checkPass",attrs:{type:e.passwordType,placeholder:"确认密码",name:"checkPass",tabindex:"2",autocomplete:"on"},on:{blur:function(t){e.capsTooltip=!1}},nativeOn:{keyup:function(t){return e.checkCapslock(t)}},model:{value:e.form.checkPass,callback:function(t){e.$set(e.form,"checkPass",t)},expression:"form.checkPass"}}),r("span",{staticClass:"show-pwd",on:{click:function(t){return e.showPwd("checkPass")}}})],1)],1),r("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[r("el-input",{model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),r("el-form-item",{attrs:{label:"密码问题",prop:"question"}},[r("el-input",{model:{value:e.form.question,callback:function(t){e.$set(e.form,"question",t)},expression:"form.question"}})],1),r("el-form-item",{attrs:{label:"问题答案",prop:"answer"}},[r("el-input",{nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleRegister("form")}},model:{value:e.form.answer,callback:function(t){e.$set(e.form,"answer",t)},expression:"form.answer"}})],1),r("el-form-item",[r("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:function(t){return e.handleRegister("form")}}},[e._v(" 提交 ")]),r("el-button",{on:{click:function(t){return e.resetForm("form")}}},[e._v("重置")])],1)],1)],1)],1)],1)},s=[],n=(r("d9e2"),r("61f7")),a={data:function(){var e=this,t=function(t,r,o){Object(n["e"])(e.isSucceed)?""==r?o(new Error("用户名不能为空")):o():(o(new Error("用户名重复")),e.isSucceed=1e3)},r=function(t,r,o){""===r?o(new Error("请输入密码")):(""!==e.form.checkPass&&e.$refs.form.validateField("checkPass"),o())},o=function(t,r,o){""===r?o(new Error("请再次输入密码")):r!==e.form.password?o(new Error("两次输入密码不一致!")):o()},s=function(e,t,r){Object(n["d"])(t)?r():r(new Error("邮箱格式不正确"))};return{form:{username:"",password:"",checkPass:"",email:"",question:"",answer:""},isSucceed:1e3,passwordType:"password",capsTooltip:!1,loading:!1,showDialog:!1,redirect:void 0,otherQuery:{},rules:{username:[{requird:!0,validator:t,trigger:"blur"}],password:[{validator:r,trigger:"blur"}],checkPass:[{validator:o,trigger:"blur"}],email:[{validator:s,trigger:"blur"}],question:[{required:!0,message:"请输入密码问题",trigger:"blur"}],answer:[{required:!0,message:"请输入问题答案",trigger:"blur"}]}}},methods:{checkCapslock:function(e){var t=e.key;this.capsTooltip=t&&1===t.length&&t>="A"&&t<="Z"},showPwd:function(e){var t=this;"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick((function(){t.$refs[e].focus()}))},handleRegister:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("注册失败"),!1;t.loading=!0,t.$store.dispatch("user/register",t.form).then((function(e){console.log("code",e),t.isSucceed=e,1e3==e?(console.log("woyun"),t.$router.push({path:"/login",query:t.otherQuery}),t.loading=!1):t.loading=!1})).catch((function(){t.loading=!1}))}))},resetForm:function(e){this.$refs[e].resetFields()}}},i=a,l=(r("82c1"),r("2877")),c=Object(l["a"])(i,o,s,!1,null,"1ed1636f",null);t["default"]=c.exports}}]);